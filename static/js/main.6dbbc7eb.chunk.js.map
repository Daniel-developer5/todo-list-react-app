{"version":3,"sources":["components/item/item.js","components/item/index.js","components/list/index.js","components/list/list.js","components/add-item-panel/index.js","components/add-item-panel/add-item-panel.js","components/layout/index.js","components/layout/layout.js","components/app/index.js","components/app/app.js","index.js"],"names":["Item","state","edit","newLabel","props","label","onStartEdit","setState","onEdit","e","target","value","saveChanging","className","preventDefault","match","forEdit","id","this","done","onMarkAsDone","onDeleteItem","classNames","Checkbox","color","onClick","Component","Content","Task","title","EditTask","document","addEventListener","removeEventListener","onSubmit","TextField","autoFocus","onChange","defaultValue","List","todos","elems","map","other","key","AddItemPanel","onAddItem","variant","autoComplete","Button","type","Layout","list","emptyBlock","content","length","Container","maxWidth","Paper","elevation","App","maxId","text","getIndex","findIndex","elem","stateProcessing","prop","index","oldItem","newItem","slice","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.6dbbc7eb.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { Checkbox } from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { TextField } from '@material-ui/core'\r\n\r\nimport './item.scss'\r\n\r\nexport default class Item extends Component {\r\n    state = {\r\n        edit: false,\r\n        newLabel: this.props.label\r\n    }\r\n\r\n    onStartEdit = () => {\r\n        this.setState({\r\n            edit: true\r\n        })\r\n    }\r\n\r\n    onEdit = e => {\r\n        this.setState({\r\n            newLabel: e.target.value\r\n        })\r\n    }\r\n\r\n    saveChanging = e => {\r\n        if (e.target.className === 'edit-form') {\r\n            e.preventDefault()\r\n        }\r\n\r\n        if (\r\n            e.target.className.match(/InputBase/i) &&\r\n            !e.target.className.match(/OutlinedInput/i)\r\n        ) {\r\n            return\r\n        }\r\n\r\n        this.setState({\r\n            edit: false\r\n        })\r\n\r\n        const { edit, id } = this.props.forEdit\r\n\r\n        edit(id, this.state.newLabel)\r\n    }\r\n\r\n    render() {\r\n        const { \r\n            label, done, \r\n            onMarkAsDone, onDeleteItem,\r\n        } = this.props\r\n\r\n        const { edit } = this.state\r\n\r\n        let classNames = 'item'\r\n\r\n        if (done) classNames += ' done'\r\n\r\n        return (\r\n            <li className={ classNames }>\r\n                <div>\r\n                    <div>\r\n                        <Checkbox \r\n                            color=\"secondary\"\r\n                            onClick={ onMarkAsDone }\r\n                        />\r\n                    </div>\r\n                    <Content \r\n                        label={ label }\r\n                        edit={ edit }\r\n                        onStartEdit={ this.onStartEdit }\r\n                        onEdit={ this.onEdit }\r\n                        saveChanging={ this.saveChanging }\r\n                    />\r\n                </div>\r\n                <button onClick={ onDeleteItem }>\r\n                    <CloseIcon color=\"secondary\" />\r\n                </button>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nconst Content = props => {\r\n    if (props.edit) {\r\n        return (\r\n            <EditTask \r\n                label={ props.label }\r\n                onEdit={ props.onEdit }\r\n                saveChanging={ props.saveChanging }\r\n            />\r\n        )\r\n    } else {\r\n        return (\r\n            <Task\r\n                label={ props.label }\r\n                onStartEdit={ props.onStartEdit }\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst Task = props => {\r\n    return (\r\n        <span \r\n            className=\"label\"\r\n            title=\"Click to edit\"\r\n            onClick={ props.onStartEdit }\r\n        >\r\n            { props.label }\r\n        </span> \r\n    )\r\n}\r\n\r\nclass EditTask extends Component {\r\n    componentDidMount() {\r\n        document.addEventListener('click', this.props.saveChanging)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('click', this.props.saveChanging)\r\n    }\r\n\r\n    render() {\r\n        const { label, onEdit, saveChanging } = this.props\r\n\r\n        return (\r\n            <form \r\n                onSubmit={ saveChanging }\r\n                className=\"edit-form\"\r\n            >\r\n                <TextField \r\n                    autoFocus\r\n                    id=\"standard-basic\"\r\n                    onChange={ onEdit }\r\n                    defaultValue={ label }\r\n                />\r\n            </form>\r\n        )\r\n    }\r\n}","import Item from './item'\r\n\r\nexport default Item","import List from './list'\r\n\r\nexport default List","import React, { Component } from 'react'\r\n\r\nimport Item from '../item/'\r\n\r\nimport './list.scss'\r\n\r\nexport default class List extends Component {\r\n    render() {\r\n        const { \r\n            todos, onMarkAsDone,\r\n            onDeleteItem, onEdit\r\n        } = this.props\r\n\r\n        const elems = todos.map(({ id, ...other }) => {\r\n            return (\r\n                <Item \r\n                    { ...other }\r\n                    key={ id }\r\n                    onMarkAsDone={ () => { onMarkAsDone(id) } }\r\n                    onDeleteItem={ () => { onDeleteItem(id) } }\r\n                    forEdit={ {id, edit: onEdit } }\r\n                />\r\n            )\r\n        })\r\n\r\n        return (\r\n            <ul className=\"list\">\r\n                { elems }\r\n            </ul>\r\n        )\r\n    }\r\n}","import AddItemPanel from './add-item-panel'\r\n\r\nexport default AddItemPanel","import React, { Component } from 'react'\r\n\r\nimport { TextField, Button } from '@material-ui/core'\r\n\r\nimport './add-item-panel.scss'\r\n\r\nexport default class AddItemPanel extends Component {\r\n    state = {\r\n        value: ''\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({\r\n            value: e.target.value\r\n        })\r\n    }\r\n\r\n    onAddItem = e => {\r\n        e.preventDefault()\r\n\r\n        const { value } = this.state\r\n\r\n        if (value) {\r\n            this.props.onAddItem(value)\r\n            this.setState({\r\n                value: ''\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form \r\n                className=\"add-item-panel\"\r\n                onSubmit={ this.onAddItem }\r\n            >\r\n                <TextField \r\n                    id=\"outlined-basic\" \r\n                    label=\"Task\" \r\n                    variant=\"outlined\" \r\n                    onChange={ this.onChange }\r\n                    value = { this.state.value }\r\n                    autoComplete=\"off\"\r\n                />\r\n                <Button \r\n                    variant=\"outlined\"\r\n                    type=\"submit\"\r\n                >\r\n                    Add\r\n                </Button>\r\n            </form>\r\n        )\r\n    }\r\n}","import Layout from './layout'\r\n\r\nexport default Layout","import React, { Component } from 'react'\r\n\r\nimport { Paper, Container } from '@material-ui/core'\r\n\r\nimport List from '../list'\r\nimport AddItemPanel from '../add-item-panel'\r\n\r\nimport './layout.scss'\r\n\r\nexport default class Layout extends Component {\r\n    render() {\r\n        const { \r\n            todos, onAddItem, \r\n            onMarkAsDone, onDeleteItem, onEdit\r\n        } = this.props\r\n\r\n        const list = (\r\n            <List \r\n                todos={ todos }\r\n                onMarkAsDone={ onMarkAsDone }\r\n                onDeleteItem={ onDeleteItem }\r\n                onEdit={ onEdit }\r\n            />\r\n        )\r\n\r\n        const emptyBlock = <div className=\"empty-block\">Nothing here...</div>\r\n\r\n        const content = todos.length ? list : emptyBlock\r\n\r\n        return (\r\n            <Container maxWidth=\"lg\">\r\n                <Paper elevation={3} className=\"layout\">\r\n                    <AddItemPanel onAddItem={ onAddItem } />\r\n                    { content }\r\n                </Paper>\r\n            </Container>\r\n        )\r\n    }\r\n}","import App from './app'\r\n\r\nexport default App","import React, { Component } from 'react'\r\n\r\nimport Layout from '../layout/'\r\n\r\nimport './app.scss'\r\n\r\nexport default class App extends Component {\r\n    maxId = 0\r\n\r\n    state = {\r\n        todos: []\r\n    }\r\n\r\n    onAddItem = text => {\r\n        this.setState(({ todos }) => {\r\n            return {\r\n                todos: [\r\n                    ...todos,\r\n                    { \r\n                        label: text, \r\n                        id: this.maxId++,\r\n                        done: false\r\n                    }\r\n                ]\r\n            }\r\n        })\r\n    }\r\n\r\n    getIndex = id => {\r\n        return this.state.todos.findIndex(elem => elem.id === id)\r\n    }\r\n\r\n    stateProcessing = (id, prop, label) => {\r\n        const index = this.getIndex(id)\r\n        const oldItem = this.state.todos[index]\r\n        const newItem = { ...oldItem, [prop]: label ? label : !oldItem[prop] }\r\n\r\n        this.setState(({ todos }) => {\r\n            return {\r\n                todos: [\r\n                    ...todos.slice(0, index),\r\n                    newItem,\r\n                    ...todos.slice(index + 1)\r\n                ]\r\n            }\r\n        })\r\n    }\r\n\r\n    onDeleteItem = id => {\r\n        this.setState(({ todos }) => {\r\n            const index = this.getIndex(id)\r\n\r\n            return {\r\n                todos: [\r\n                    ...todos.slice(0, index),\r\n                    ...todos.slice(index + 1)\r\n                ]\r\n            }\r\n        })\r\n    }\r\n\r\n    onMarkAsDone = id => {\r\n        this.stateProcessing(id, 'done')\r\n    }\r\n\r\n    onEdit = (id, newLabel) => {\r\n        if (!newLabel) {\r\n            this.onDeleteItem(id)\r\n            return\r\n        } \r\n\r\n        this.stateProcessing(id, 'label', newLabel)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Layout \r\n                todos={ this.state.todos }\r\n                onAddItem={ this.onAddItem }\r\n                onMarkAsDone={ this.onMarkAsDone }\r\n                onDeleteItem={ this.onDeleteItem }\r\n                onEdit={ this.onEdit }\r\n            />\r\n        )\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/app/index'\n\nReactDOM.render(<App />, document.querySelector('#root'))"],"sourceRoot":""}